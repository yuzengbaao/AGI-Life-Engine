# Bytebot 集成施工规范

## 版本
- v1.0

## 术语
- 桌面执行器：Bytebot 虚拟桌面与其控制API
- 适配器：AGI 与 Bytebot 的集成层
- 接管模式：人工在UI中临时控制桌面以解决异常

## 目录结构规范
- `docs/bytebot/` 计划与规范文档
- `config/bytebot/` 环境与模板文件
- `artifacts/bytebot/` 截图、日志与录屏归档（由运行生成）

## 操作流程规范
- 启动：准备 `docker/.env`，按 Compose 启动四服务，验证端口与健康
- 配置：在UI安装密码管理器与必需软件，设置下载目录映射到输出卷
- 任务：通过 `9991/tasks` 创建任务；必要时调用 `9990/computer-use` 做细粒度动作
- 观测：在 `9992` 观看实时桌面；异常时启用接管模式并记录处理

## 安全与合规规范
- 端口仅内网开放，必要时反代加鉴权
- 密钥与登录信息由密码管理器管理；最小权限与分域策略
- 输入输出卷按任务分域隔离；敏感数据加密存储

## 审计与留痕
- 所有任务保存截图与日志；关键步骤添加标记
- 人工接管需记录原因、时间窗与操作摘要

## 质量检查清单
- 服务联通：`9990/9991/9992` 正常
- 示例任务：网页抓取、PDF提取、批量下载成功
- 存证完整：截图、日志、录屏存在且路径正确
- 安全合规：端口暴露、密钥管理、卷权限检查合格

## 阶段门与复核
- 每阶段结束执行清单并签署复核记录；不达标禁止进入下一阶段

## 回滚流程
- 失败任务取消并记录；恢复桌面快照；撤销输出卷写入

## 文档要求
- 所有计划与规范须同时提供 Markdown 与 JSON，同步更新与存档